# Cron Setup for Crypto Data Collection Service Management
# ========================================================
# 
# Add these entries to your crontab with: crontab -e
# Or set up as Kubernetes CronJobs

# Run health check every 15 minutes and log results
*/15 * * * * /path/to/crypto-data-collection/scripts/health-check.sh >> /var/log/crypto-health.log 2>&1

# Run comprehensive maintenance every 6 hours
0 */6 * * * /path/to/crypto-data-collection/scripts/comprehensive-maintenance.sh auto >> /var/log/crypto-maintenance.log 2>&1

# Clean up failed pods every 2 hours
0 */2 * * * kubectl delete pods --field-selector=status.phase=Failed -n crypto-collectors --ignore-not-found=true

# Generate daily health report at 8 AM
0 8 * * * /path/to/crypto-data-collection/scripts/comprehensive-maintenance.sh health-check

# Weekly full maintenance on Sunday at 2 AM
0 2 * * 0 /path/to/crypto-data-collection/scripts/comprehensive-maintenance.sh full

# Monitor disk space and clean logs if needed
0 4 * * * find /var/log -name "crypto-*.log" -mtime +7 -delete

# Optional: Send daily status email (requires mail setup)
# 0 9 * * * /path/to/crypto-data-collection/scripts/health-check.sh | mail -s "Crypto Services Daily Report" admin@yourdomain.com

# Kubernetes-native approach (preferred):
# The service-health-management.yaml contains CronJobs that run inside the cluster